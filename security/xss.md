
## 概念

  Cross Site Scripting(跨站脚本攻击，简称XSS)，是最普遍的web安全漏洞，它允许攻击者可以将攻击代码植入到用户访问的正常网站，当用户访问改网站后，会自动执行恶意代码，达到攻击用户的目的

## 危害

 - 盗取cookies等个人信息

    盗取用户的cookies信息，伪造用户身份信息，获取更大的网站操作权限，如查询数据、删除数据等

 - 挂马

   将XSS攻击代码嵌入到用户访问的网页上，当用户访问该挂马网页后，用户的计算机感染木马病毒

 - 发送广告或垃圾信息

## 分类

主要分为反射性和存储型

### 1、反射型XSS

 1、反射型Xss的主要形成原因在于服务器在解析用户输入的数据时，将用户输入的数据解析为脚本数据返回给浏览器，浏览器解析后执行恶意代码，触发XSS漏洞

 2、恶意代码没有存储到目标网站上，通过**诱导**用户点击恶意链接到一个目标网站来实施攻击

 3、主要出现在**网站搜索栏**、**用户登录**口界面

### 2、存储型XSS

 将攻击脚本直接存储到服务器的数据库中，每个用户访问到该数据后都会收到攻击，影响最为严重

 出现在**评论**、**留言**等功能区

## 攻击典型案例

- 新浪微博
  
  导致大量用户自动关注某个微博账号，并大量转发某条微博内容

## 预防

  - 过滤特定标签，如script、img、a标签

  - 对一些常用的符号进行编码，不直接使用这些符号，如<>

  - 加强用户输入验证和服务端参数请求验证，排除一些非法参数

  - 重要的cookies设置成readonly，防止客户端通过document.cookies来访问网页的cookies信息